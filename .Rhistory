#
# indec = read_excel('indec_nacional.xls')
#
#
# indec = indec[9:21,]
#
# n_col = ncol(indec) - 1
#
#
# periodos = seq(as.Date("2017/1/1"), by = "month", length.out = n_col)
#
#
#
# indec = data.frame(t(indec))
#
# colnames(indec) = c(indec[1,])
#
# row.names(indec) = 1:nrow(indec)
#
# indec = indec[-1,]
#
# indec[ , c(1:(ncol(indec)))] = apply(indec[ , c(1:(ncol(indec)))], 2, trimws )
#
#
#
#
# indec[ , c(1:(ncol(indec)))] = apply(indec[ , c(1:(ncol(indec)))], 2,
#                             function(x) as.numeric(as.character(x)))
#
#
# indec$periodos = periodos
#
# library(writexl)
#
# write_xlsx(indec, 'indecnacional.xlsx' )
indec = read_excel('indecnacional.xlsx')
indec$year = year(indec$periodos)
indec$Mes = substr(indec$periodos, 6 , 7)
indec$periodos = as.Date(indec$periodos)
colnames(indec) = gsub(',', '',colnames(indec))
colnames(indec) = gsub('á', 'a',colnames(indec))
colnames(indec) = gsub('é', 'e',colnames(indec))
colnames(indec) = gsub('í', 'i',colnames(indec))
colnames(indec) = gsub('ó', 'o',colnames(indec))
colnames(indec) = gsub('ú', 'u',colnames(indec))
variable = indec$Nivel_general
x = indec$Mes[1:12]
View(indec)
colnames(indec)
colnames(indec)[5]
colnames(indec)[5] = 'v'
View(indec)
colnames(indec)[5] = 'Vivienda Agua y Elec'
View(indec)
View(indec)
colnames(indec)
indec$periodos
indec$periodos[nrow(indec)]
substr(indec$periodos[nrow(indec)],1,7)
str_view('a','a,)
str_view('a','a')
str_view('a','a')
cat(substr(indec$periodos[nrow(indec)],1,7). '\n', 'hola')
cat(substr(indec$periodos[nrow(indec)],1,7), '\n', 'hola')
cat('Periodo: ',substr(indec$periodos[nrow(indec)],1,7), '\nIndice: ')
interanual = ((indec$`Nivel general`/100)+1) *  ((lag(indec$`Nivel general`, 1)/100)+1)	*  ((lag(indec$`Nivel general`, 2)/100)+1)		*  ((lag(indec$`Nivel general`, 3)/100)+1)*  ((lag(indec$`Nivel general`, 4)/100)+1)				*  ((lag(indec$`Nivel general`, 5)/100)+1)				*  ((lag(indec$`Nivel general`, 6)/100)+1)	*  ((lag(indec$`Nivel general`, 7)/100)+1)				*  ((lag(indec$`Nivel general`, 8)/100)+1)				*  ((lag(indec$`Nivel general`, 9)/100)+1)	*  ((lag(indec$`Nivel general`, 10)/100)+1)				*  ((lag(indec$`Nivel general`, 11)/100)+1)
interanual = round(((interanual -1 ) * 100),2)
interanual
gsub("_", " ", sort(names(indec[,-c(14,15,16)])))
substr(indec$periodos[nrow(indec)],1,7)
paste0(substr(indec$periodos[nrow(indec)],1,7)
paste0(substr(indec$periodos[nrow(indec)],1,7))
paste0(substr(indec$periodos[nrow(indec)],1,7))
paste0(substr(indec$periodos[nrow(indec)],1,7), ' ', substr(indec$periodos[nrow(indec) - 12],1,7))
paste0(substr(indec$periodos[nrow(indec) - 12],1,7), ' ', substr(indec$periodos[nrow(indec)],1,7))
paste0('De: ',substr(indec$periodos[nrow(indec) - 12],1,7), ' ', substr(indec$periodos[nrow(indec)],1,7))
paste0('De: ',substr(indec$periodos[nrow(indec) - 12],1,7), ' A: ', substr(indec$periodos[nrow(indec)],1,7))
tags$p(paste0(deframe(indec[,c('Educacion')])[nrow(indec)], ' %')
tags$p(paste0(deframe(indec[,c('Educacion')])[nrow(indec)], ' %')
paste0(deframe(indec[,c('Educacion')])[nrow(indec)], ' %')
View(indec)
indec[nrow(indec),]
indec[nrow(indec),]
values = indec[nrow(indec),]
View(values)
values = indec[nrow(indec), ncol(indec) - 3]
values = indec[nrow(indec), 1:ncol(indec) - 3]
ncol(indec) - 3
values = indec[nrow(indec), (1:ncol(indec) - 3)]
to = ncol(indec) - 3
values = indec[nrow(indec), 1:to]
View(values)
sapply(values, function(x) sort(x))
values = sapply(values, function(x) sort(x))
values
values[1]
values[1]$names
values[1]$name
values[1]
class(values[1])
ver = values[1]
ver$name
ver$names
ver
class(ver)
indec[nrow(indec), 1:to]
View(indec)
sapply(indec[nrow(indec), 1:to], function(x) sort(x))
to = ncol(indec) - 3
values = indec[nrow(indec), 1:to]
values
t(apply(values, 1, sort))
values = t(apply(values, 1, sort))
View(values)
colnames(values[ncol(values)])
values[ncol(values)]
colnames(values[ncol(values)])
names(values[ncol(values)])
values[ncol(values)]
colnames(values)
colnames(values)[ncol(values)]
to = ncol(indec) - 3
values = indec[nrow(indec), 1:to]
colnames(t(apply(values, 1, sort)))[ncol(t(apply(values, 1, sort)))]
to = ncol(indec) - 3
colnames(t(apply(indec[nrow(indec), 1:to], 1, sort)))[ncol(t(apply(indec[nrow(indec), 1:to], 1, sort)))]
t(apply(indec[nrow(indec), 1:to], 1, sort))
t(apply(indec[nrow(indec), 1:to], 1, sort))[ncol(t(apply(indec[nrow(indec), 1:to], 1, sort)))]
Sys.setlocale("LC_TIME","Spanish") #para que los meses al abreviarlos no tengan un punto al final
library(datasets)
library(flexdashboard)
library(plotly)
library(crosstalk)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(tidymodels)
library(shiny)
library(dplyr)
library(lubridate)
library(readxl)
library(highcharter)
#
# substr(today(),3,4)
#
#
# file = paste0('https://www.indec.gob.ar/ftp/cuadros/economia/sh_ipc_',substr(today(),6,7),'_',substr(today(),3,4), '.xls')
#
# destfile = "indec_nacional.xls"
#
# download.file(file, destfile, mode="wb")
#
# indec = read_excel('indec_nacional.xls')
#
#
# indec = indec[9:21,]
#
# n_col = ncol(indec) - 1
#
#
# periodos = seq(as.Date("2017/1/1"), by = "month", length.out = n_col)
#
#
#
# indec = data.frame(t(indec))
#
# colnames(indec) = c(indec[1,])
#
# row.names(indec) = 1:nrow(indec)
#
# indec = indec[-1,]
#
# indec[ , c(1:(ncol(indec)))] = apply(indec[ , c(1:(ncol(indec)))], 2, trimws )
#
#
#
#
# indec[ , c(1:(ncol(indec)))] = apply(indec[ , c(1:(ncol(indec)))], 2,
#                             function(x) as.numeric(as.character(x)))
#
#
# indec$periodos = periodos
#
# library(writexl)
#
# write_xlsx(indec, 'indecnacional.xlsx' )
indec = read_excel('indecnacional.xlsx')
indec$year = year(indec$periodos)
indec$Mes = substr(indec$periodos, 6 , 7)
indec$periodos = as.Date(indec$periodos)
colnames(indec) = gsub(',', '',colnames(indec))
colnames(indec) = gsub('á', 'a',colnames(indec))
colnames(indec) = gsub('é', 'e',colnames(indec))
colnames(indec) = gsub('í', 'i',colnames(indec))
colnames(indec) = gsub('ó', 'o',colnames(indec))
colnames(indec) = gsub('ú', 'u',colnames(indec))
colnames(indec)[2] = 'Alimentos y bebidas'
colnames(indec)[5] = 'Vivienda Agua y Elec'
colnames(indec)[4] = 'Prendias y Calzado'
colnames(indec)[6] = 'Equip y Mant del Hogar'
variable = indec$Nivel_general
x = indec$Mes[1:12]
x
month.abb[x]
x
month <- c(12,3,6,2,3,7)
month.abb[month]
month <- c(x)
month.abb[month]
month <- c(1:12)
month.abb[month]
View(indec)
Sys.setlocale("LC_TIME","Spanish") #para que los meses al abreviarlos no tengan un punto al final
library(datasets)
library(flexdashboard)
library(plotly)
library(crosstalk)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(tidymodels)
library(shiny)
library(dplyr)
library(lubridate)
library(readxl)
library(highcharter)
#
# substr(today(),3,4)
#
#
# file = paste0('https://www.indec.gob.ar/ftp/cuadros/economia/sh_ipc_',substr(today(),6,7),'_',substr(today(),3,4), '.xls')
#
# destfile = "indec_nacional.xls"
#
# download.file(file, destfile, mode="wb")
#
# indec = read_excel('indec_nacional.xls')
#
#
# indec = indec[9:21,]
#
# n_col = ncol(indec) - 1
#
#
# periodos = seq(as.Date("2017/1/1"), by = "month", length.out = n_col)
#
#
#
# indec = data.frame(t(indec))
#
# colnames(indec) = c(indec[1,])
#
# row.names(indec) = 1:nrow(indec)
#
# indec = indec[-1,]
#
# indec[ , c(1:(ncol(indec)))] = apply(indec[ , c(1:(ncol(indec)))], 2, trimws )
#
#
#
#
# indec[ , c(1:(ncol(indec)))] = apply(indec[ , c(1:(ncol(indec)))], 2,
#                             function(x) as.numeric(as.character(x)))
#
#
# indec$periodos = periodos
#
# library(writexl)
#
# write_xlsx(indec, 'indecnacional.xlsx' )
indec = read_excel('indecnacional.xlsx')
indec$year = year(indec$periodos)
indec$Mes = as.numeric(indec$periodos, 6 , 7)
indec$periodos = as.Date(indec$periodos)
colnames(indec) = gsub(',', '',colnames(indec))
colnames(indec) = gsub('á', 'a',colnames(indec))
colnames(indec) = gsub('é', 'e',colnames(indec))
colnames(indec) = gsub('í', 'i',colnames(indec))
colnames(indec) = gsub('ó', 'o',colnames(indec))
colnames(indec) = gsub('ú', 'u',colnames(indec))
colnames(indec)[2] = 'Alimentos y bebidas'
colnames(indec)[5] = 'Vivienda Agua y Elec'
colnames(indec)[4] = 'Prendias y Calzado'
colnames(indec)[6] = 'Equip y Mant del Hogar'
variable = indec$Nivel_general
x = indec$Mes[1:12]
month <- c(1:12)
View(indec)
Sys.setlocale("LC_TIME","Spanish") #para que los meses al abreviarlos no tengan un punto al final
library(datasets)
library(flexdashboard)
library(plotly)
library(crosstalk)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(tidymodels)
library(shiny)
library(dplyr)
library(lubridate)
library(readxl)
library(highcharter)
#
# substr(today(),3,4)
#
#
# file = paste0('https://www.indec.gob.ar/ftp/cuadros/economia/sh_ipc_',substr(today(),6,7),'_',substr(today(),3,4), '.xls')
#
# destfile = "indec_nacional.xls"
#
# download.file(file, destfile, mode="wb")
#
# indec = read_excel('indec_nacional.xls')
#
#
# indec = indec[9:21,]
#
# n_col = ncol(indec) - 1
#
#
# periodos = seq(as.Date("2017/1/1"), by = "month", length.out = n_col)
#
#
#
# indec = data.frame(t(indec))
#
# colnames(indec) = c(indec[1,])
#
# row.names(indec) = 1:nrow(indec)
#
# indec = indec[-1,]
#
# indec[ , c(1:(ncol(indec)))] = apply(indec[ , c(1:(ncol(indec)))], 2, trimws )
#
#
#
#
# indec[ , c(1:(ncol(indec)))] = apply(indec[ , c(1:(ncol(indec)))], 2,
#                             function(x) as.numeric(as.character(x)))
#
#
# indec$periodos = periodos
#
# library(writexl)
#
# write_xlsx(indec, 'indecnacional.xlsx' )
indec = read_excel('indecnacional.xlsx')
indec$year = year(indec$periodos)
indec$Mes = as.numeric(substr(indec$periodos, 6 , 7))
indec$periodos = as.Date(indec$periodos)
colnames(indec) = gsub(',', '',colnames(indec))
colnames(indec) = gsub('á', 'a',colnames(indec))
colnames(indec) = gsub('é', 'e',colnames(indec))
colnames(indec) = gsub('í', 'i',colnames(indec))
colnames(indec) = gsub('ó', 'o',colnames(indec))
colnames(indec) = gsub('ú', 'u',colnames(indec))
colnames(indec)[2] = 'Alimentos y bebidas'
colnames(indec)[5] = 'Vivienda Agua y Elec'
colnames(indec)[4] = 'Prendias y Calzado'
colnames(indec)[6] = 'Equip y Mant del Hogar'
variable = indec$Nivel_general
x = indec$Mes[1:12]
month <- c(1:12)
indec$month = month.abb[indec$Mes]
file_total = 'https://www.indec.gob.ar/ftp/cuadros/economia/sh_ipc_aperturas.xls'
destfile_total = "indec_nacional_total.xls"
download.file(file_total, destfile_total, mode="wb")
indec_total = read_excel('indec_nacional_total.xls')
library(datasets)
library(flexdashboard)
library(plotly)
library(crosstalk)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(tidymodels)
library(shiny)
library(dplyr)
library(lubridate)
library(readxl)
library(highcharter)
file_total = 'https://www.indec.gob.ar/ftp/cuadros/economia/sh_ipc_aperturas.xls'
destfile_total = "indec_nacional_total.xls"
download.file(file_total, destfile_total, mode="wb")
indec_total = read_excel('indec_nacional_total.xls')
View(indec_total)
indec_total = indec_total[9:52,]
View(indec_total)
indec_total = read_excel('indec_nacional_total.xls')
indec_total = indec_total[8:52,]
View(indec_total)
file_total = 'https://www.indec.gob.ar/ftp/cuadros/economia/sh_ipc_aperturas.xls'
destfile_total = "indec_nacional_total.xls"
download.file(file_total, destfile_total, mode="wb")
indec_total = read_excel('indec_nacional_total.xls')
indec_total = indec_total[8:52,]
n_col_total = ncol(indec_total) - 1
periodos_total = seq(as.Date("2017/1/1"), by = "month", length.out = n_col_total)
indec_total = data.frame(t(indec_total))
colnames(indec_total) = c(indec_total[1,])
row.names(indec_total) = 1:nrow(indec_total)
indec_total = indec_total[-1,]
indec_total[ , c(1:(ncol(indec_total)))] = apply(indec_total[ , c(1:(ncol(indec_total)))], 2, trimws )
indec_total[ , c(1:(ncol(indec_total)))] = apply(indec_total[ , c(1:(ncol(indec_total)))], 2,
function(x) as.numeric(as.character(x)))
indec_total$periodos = periodos_total
library(writexl)
write_xlsx(indec_total, 'indecnacional_total.xlsx' )
indec_total = read_excel('indecnacional_total.xlsx')
indec_total$year = year(indec_total$periodos)
indec_total$Mes = as.numeric(substr(indec_total$periodos, 6 , 7))
indec_total$periodos = as.Date(indec_total$periodos)
colnames(indec_total) = gsub(',', '',colnames(indec_total))
colnames(indec_total) = gsub('á', 'a',colnames(indec_total))
colnames(indec_total) = gsub('é', 'e',colnames(indec_total))
colnames(indec_total) = gsub('í', 'i',colnames(indec_total))
colnames(indec_total) = gsub('ó', 'o',colnames(indec_total))
colnames(indec_total) = gsub('ú', 'u',colnames(indec_total))
View(indec_total)
View(indec_total)
Sys.setlocale("LC_TIME","Spanish") #para que los meses al abreviarlos no tengan un punto al final
library(datasets)
library(flexdashboard)
library(plotly)
library(crosstalk)
library(tidyverse)
library(ggplot2)
library(dplyr)
library(tidymodels)
library(shiny)
library(dplyr)
library(lubridate)
library(readxl)
library(highcharter)
substr(today(),3,4)
file = paste0('https://www.indec.gob.ar/ftp/cuadros/economia/sh_ipc_',substr(today(),6,7),'_',substr(today(),3,4), '.xls')
destfile = "indec_nacional.xls"
download.file(file, destfile, mode="wb")
indec = read_excel('indec_nacional.xls')
indec = indec[9:21,]
n_col = ncol(indec) - 1
periodos = seq(as.Date("2017/1/1"), by = "month", length.out = n_col)
indec = data.frame(t(indec))
colnames(indec) = c(indec[1,])
row.names(indec) = 1:nrow(indec)
indec = indec[-1,]
indec[ , c(1:(ncol(indec)))] = apply(indec[ , c(1:(ncol(indec)))], 2, trimws )
indec[ , c(1:(ncol(indec)))] = apply(indec[ , c(1:(ncol(indec)))], 2,
function(x) as.numeric(as.character(x)))
indec$periodos = periodos
library(writexl)
write_xlsx(indec, 'indecnacional.xlsx' )
indec = read_excel('indecnacional.xlsx')
indec$year = year(indec$periodos)
indec$Mes = as.numeric(substr(indec$periodos, 6 , 7))
indec$periodos = as.Date(indec$periodos)
colnames(indec) = gsub(',', '',colnames(indec))
colnames(indec) = gsub('á', 'a',colnames(indec))
colnames(indec) = gsub('é', 'e',colnames(indec))
colnames(indec) = gsub('í', 'i',colnames(indec))
colnames(indec) = gsub('ó', 'o',colnames(indec))
colnames(indec) = gsub('ú', 'u',colnames(indec))
colnames(indec)[2] = 'Alimentos y bebidas'
colnames(indec)[5] = 'Vivienda Agua y Elec'
colnames(indec)[4] = 'Prendias y Calzado'
colnames(indec)[6] = 'Equip y Mant del Hogar'
variable = indec$Nivel_general
x = indec$Mes[1:12]
indec$month = month.abb[indec$Mes]
######################################################
file_total = 'https://www.indec.gob.ar/ftp/cuadros/economia/sh_ipc_aperturas.xls'
destfile_total = "indec_nacional_total.xls"
download.file(file_total, destfile_total, mode="wb")
indec_total = read_excel('indec_nacional_total.xls')
indec_total = indec_total[8:52,]
n_col_total = ncol(indec_total) - 1
periodos_total = seq(as.Date("2017/1/1"), by = "month", length.out = n_col_total)
indec_total = data.frame(t(indec_total))
colnames(indec_total) = c(indec_total[1,])
row.names(indec_total) = 1:nrow(indec_total)
indec_total = indec_total[-1,]
indec_total[ , c(1:(ncol(indec_total)))] = apply(indec_total[ , c(1:(ncol(indec_total)))], 2, trimws )
indec_total[ , c(1:(ncol(indec_total)))] = apply(indec_total[ , c(1:(ncol(indec_total)))], 2,
function(x) as.numeric(as.character(x)))
indec_total$periodos = periodos_total
library(writexl)
write_xlsx(indec_total, 'indecnacional_total.xlsx' )
indec_total = read_excel('indecnacional_total.xlsx')
indec_total$year = year(indec_total$periodos)
indec_total$Mes = as.numeric(substr(indec_total$periodos, 6 , 7))
indec_total$periodos = as.Date(indec_total$periodos)
colnames(indec_total) = gsub(',', '',colnames(indec_total))
colnames(indec_total) = gsub('á', 'a',colnames(indec_total))
colnames(indec_total) = gsub('é', 'e',colnames(indec_total))
colnames(indec_total) = gsub('í', 'i',colnames(indec_total))
colnames(indec_total) = gsub('ó', 'o',colnames(indec_total))
colnames(indec_total) = gsub('ú', 'u',colnames(indec_total))
colnames(indec_total)[2] = 'Alimentos y bebidas'
variable = indec_total$Nivel_general
x = indec_total$Mes[1:12]
indec_total$month = month.abb[indec_total$Mes]
View(indec)
View(indec_total)
View(indec_total)
to = ncol(indec) - 3
indec[nrow(indec), 1:to]
(t(apply(indec[nrow(indec), 1:to], 1, sort))[ncol(t(apply(indec[nrow(indec), 1:to], 1, sort)))], ' %')
paste0(t(apply(indec[nrow(indec), 1:to], 1, sort))[ncol(t(apply(indec[nrow(indec), 1:to], 1, sort)))], ' %')
paste0(colnames(t(apply(indec[nrow(indec), 1:to], 1, sort)))[ncol(t(apply(indec[nrow(indec), 1:to], 1, sort)))]
paste0(colnames(t(apply(indec[nrow(indec), 1:to], 1, sort)))[ncol(t(apply(indec[nrow(indec), 1:to], 1, sort)))], ' Mayor Incremento Mensual.')
colnames(t(apply(indec[nrow(indec), 1:to], 1, sort)))
colnames(t(apply(indec[nrow(indec), 1:to], 1, sort)))[ncol(t(apply(indec[nrow(indec), 1:to], 1, sort)))]
